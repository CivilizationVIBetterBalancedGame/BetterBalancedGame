--==============================================================
--******			  D E D I C A T I O N S				  ******
--==============================================================
-- To Arms +10 vs cities
INSERT OR IGNORE INTO CommemorationModifiers (CommemorationType, ModifierId)
    VALUES ('COMMEMORATION_MILITARY', 'COMMEMORATION_MILITARY_GA_ATTACK_CITIES');
INSERT OR IGNORE INTO Modifiers (ModifierId , ModifierType , OwnerRequirementSetId)
    VALUES ('COMMEMORATION_MILITARY_GA_ATTACK_CITIES' , 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY' , 'PLAYER_HAS_GOLDEN_AGE');
INSERT OR IGNORE INTO ModifierArguments (ModifierId , Name , Value)
    VALUES ('COMMEMORATION_MILITARY_GA_ATTACK_CITIES' , 'AbilityType' , 'ABILITY_MILITARY_GA_BUFF');
INSERT OR IGNORE INTO Types (Type, Kind) VALUES ('ABILITY_MILITARY_GA_BUFF', 'KIND_ABILITY');
INSERT OR IGNORE INTO TypeTags (Type, Tag) VALUES
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_NAVAL_MELEE'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_NAVAL_RANGED'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_NAVAL_RAIDER'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_NAVAL_CARRIER'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_RECON'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_MELEE'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_RANGED'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_SIEGE'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_HEAVY_CAVALRY'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_LIGHT_CAVALRY'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_RANGED_CAVALRY'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_ANTI_CAVALRY'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_HEAVY_CHARIOT'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_LIGHT_CHARIOT'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_WARRIOR_MONK'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_WAR_CART'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_AIRCRAFT'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_AIR_BOMBER'),
	('ABILITY_MILITARY_GA_BUFF', 'CLASS_AIR_FIGHTER');
INSERT OR IGNORE INTO UnitAbilities (UnitAbilityType, Name, Description, Inactive) VALUES
	('ABILITY_MILITARY_GA_BUFF', 'LOC_ABILITY_MILITARY_GA_BUFF_NAME', 'LOC_ABILITY_MILITARY_GA_BUFF_DESCRIPTION', 1);
INSERT OR IGNORE INTO UnitAbilityModifiers (UnitAbilityType, ModifierId) VALUES
	('ABILITY_MILITARY_GA_BUFF', 'MOD_MILITARY_GA_BUFF');
INSERT OR IGNORE INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
	('MOD_MILITARY_GA_BUFF', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH', 'UNIT_ATTACKING_DISTRICT_REQUIREMENTS');
INSERT OR IGNORE INTO ModifierArguments (ModifierId, Name, Value) VALUES
	('MOD_MILITARY_GA_BUFF', 'Amount', '10');
INSERT OR IGNORE INTO ModifierStrings (ModifierId, Context, Text) VALUES
	('MOD_MILITARY_GA_BUFF', 'Preview', 'LOC_MILITARY_GA_BUFF_DESCRIPTION');
-- 25/06/25 To Arms no longer give casus belli
DELETE FROM DiplomaticActions_XP1 WHERE DiplomaticActionType='DIPLOACTION_DECLARE_GOLDEN_AGE_WAR';

-- 28/07/25 To Arms give gold on kill
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId) VALUES
	('BBG_MILITARY_COMMEMORATION_GOLD_KILLS', 'MODIFIER_PLAYER_UNITS_ADJUST_POST_COMBAT_YIELD', 'PLAYER_HAS_GOLDEN_AGE');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
	('BBG_MILITARY_COMMEMORATION_GOLD_KILLS', 'YieldType', 'YIELD_GOLD'),
	-- it's standard speed so /2 online
	('BBG_MILITARY_COMMEMORATION_GOLD_KILLS', 'PercentDefeatedStrength', 100);
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_MILITARY', 'BBG_MILITARY_COMMEMORATION_GOLD_KILLS');

-- 28/07/25 To Arms give 2 niter, oil and coal per turn
INSERT INTO Modifiers(ModifierId, ModifierType, OwnerRequirementSetId, SubjectRequirementSetId)
	SELECT 'BBG_MILITARY_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER', 'MODIFIER_PLAYER_ADJUST_FREE_RESOURCE_IMPORT_EXTRACTION', 'PLAYER_HAS_GOLDEN_AGE', 'BBG_PLAYER_CAN_SEE_' || ResourceType || '_REQSET'
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_OIL', 'RESOURCE_COAL');
INSERT INTO ModifierArguments(ModifierId, Name, Value)
	SELECT 'BBG_MILITARY_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER', 'ResourceType', Resources.ResourceType
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_OIL', 'RESOURCE_COAL');
INSERT INTO ModifierArguments(ModifierId, Name, Value)
	SELECT 'BBG_MILITARY_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER', 'Amount', 2
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_OIL', 'RESOURCE_COAL');
INSERT INTO CommemorationModifiers(CommemorationType, ModifierId)
	SELECT 'COMMEMORATION_MILITARY', 'BBG_MILITARY_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER'
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_OIL', 'RESOURCE_COAL');


-- Monumentality discount reduced from 30% to 10%
UPDATE ModifierArguments SET Value='10' WHERE ModifierId='COMMEMORATION_INFRASTRUCTURE_BUILDER_DISCOUNT_MODIFIER' AND Name='Amount';
UPDATE ModifierArguments SET Value='10' WHERE ModifierId='COMMEMORATION_INFRASTRUCTURE_SETTLER_DISCOUNT_MODIFIER' AND Name='Amount';
-- Pen and Brush gives +2 Culture and +1 Gold per District
INSERT OR IGNORE INTO Modifiers (ModifierId , ModifierType , OwnerRequirementSetId)
    VALUES ('COMMEMORATION_CULTURAL_DISTRICTGOLD' , 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_YIELD_PER_DISTRICT' , 'PLAYER_HAS_GOLDEN_AGE');
INSERT OR IGNORE INTO ModifierArguments (ModifierId , Name , Value)
    VALUES ('COMMEMORATION_CULTURAL_DISTRICTGOLD' , 'YieldType' , 'YIELD_GOLD');
INSERT OR IGNORE INTO ModifierArguments (ModifierId , Name , Value)
    VALUES ('COMMEMORATION_CULTURAL_DISTRICTGOLD' , 'Amount' , '1');
INSERT OR IGNORE INTO CommemorationModifiers (CommemorationType, ModifierId)
	VALUES ('COMMEMORATION_CULTURAL', 'COMMEMORATION_CULTURAL_DISTRICTGOLD');
UPDATE ModifierArguments SET Value='2' WHERE ModifierId='COMMEMORATION_CULTURAL_DISTRICTCULTURE' and Name='Amount';

-- 21/06/23 Exodus change to military golden
-- +2 strat unlocked per turn, 15% prod for military units, -1 gold for military units, +1 prod +1 culture for campement & building
-- 13/03/24 prod/cult removed for encampment
-- 11/08/24 prod added to encampment, culture removed to buildings, when killing a unit get 40% of its cs in culture
DELETE FROM CommemorationModifiers WHERE CommemorationType='COMMEMORATION_RELIGIOUS';

INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
	('BBG_DRUMS_COMMEMORATION_MILITARY_UNITS_PRODUCTION_BONUS', 'MODIFIER_PLAYER_CITIES_ADJUST_MILITARY_UNITS_PRODUCTION', 'PLAYER_HAS_GOLDEN_AGE', NULL),
	('BBG_DRUMS_COMMEMORATION_REDUCED_MAINTENANCE' , 'MODIFIER_PLAYER_ADJUST_UNIT_MAINTENANCE_DISCOUNT', 'PLAYER_HAS_GOLDEN_AGE', NULL),
	('BBG_DRUMS_COMMEMORATION_PROD_ENCAMPMENT', 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE', 'CITY_HAS_ENCAMPMENT');
	-- ('BBG_DRUMS_COMMEMORATION_CULTURE_ENCAMPMENT', 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE', 'CITY_HAS_ENCAMPMENT');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
	('BBG_DRUMS_COMMEMORATION_MILITARY_UNITS_PRODUCTION_BONUS', 'Amount', '15'),
	('BBG_DRUMS_COMMEMORATION_MILITARY_UNITS_PRODUCTION_BONUS', 'StartEra', 'ERA_ANCIENT'),
	('BBG_DRUMS_COMMEMORATION_MILITARY_UNITS_PRODUCTION_BONUS', 'EndEra', 'ERA_INFORMATION'),
	('BBG_DRUMS_COMMEMORATION_REDUCED_MAINTENANCE', 'Amount', '1'),
	('BBG_DRUMS_COMMEMORATION_PROD_ENCAMPMENT', 'YieldType', 'YIELD_PRODUCTION'),
	('BBG_DRUMS_COMMEMORATION_PROD_ENCAMPMENT', 'Amount', '1');
	-- ('BBG_DRUMS_COMMEMORATION_CULTURE_ENCAMPMENT', 'YieldType', 'YIELD_CULTURE'),
	-- ('BBG_DRUMS_COMMEMORATION_CULTURE_ENCAMPMENT', 'Amount', '1');

INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_MILITARY_UNITS_PRODUCTION_BONUS'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_REDUCED_MAINTENANCE'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_PROD_ENCAMPMENT'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_CULTURE_KILLS');
	-- ('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_CULTURE_ENCAMPMENT');

-- 28/07/25 strategic resources are now only horses, niter and iron.
INSERT INTO Modifiers(ModifierId, ModifierType, OwnerRequirementSetId, SubjectRequirementSetId)
	SELECT 'BBG_DRUMS_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER', 'MODIFIER_PLAYER_ADJUST_FREE_RESOURCE_IMPORT_EXTRACTION', 'PLAYER_HAS_GOLDEN_AGE', 'BBG_PLAYER_CAN_SEE_' || ResourceType || '_REQSET'
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_IRON', 'RESOURCE_HORSES');
INSERT INTO ModifierArguments(ModifierId, Name, Value)
	SELECT 'BBG_DRUMS_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER', 'ResourceType', Resources.ResourceType
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_IRON', 'RESOURCE_HORSES');
INSERT INTO ModifierArguments(ModifierId, Name, Value)
	SELECT 'BBG_DRUMS_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER', 'Amount', 2
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_IRON', 'RESOURCE_HORSES');
INSERT INTO CommemorationModifiers(CommemorationType, ModifierId)
	SELECT 'COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_'||Resources.ResourceType||'_ACCUMULATION_MODIFIER'
	FROM Resources WHERE ResourceType IN ('RESOURCE_NITER', 'RESOURCE_IRON', 'RESOURCE_HORSES');

INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId) VALUES
	('BBG_DRUMS_COMMEMORATION_PROD_BARRACK', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE'),
	('BBG_DRUMS_COMMEMORATION_PROD_STABLE', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE'),
	('BBG_DRUMS_COMMEMORATION_PROD_ARMORY', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE'),
	('BBG_DRUMS_COMMEMORATION_PROD_MILITARY_ACADEMY', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_KILLS', 'MODIFIER_PLAYER_UNITS_ADJUST_POST_COMBAT_YIELD', 'PLAYER_HAS_GOLDEN_AGE');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_DRUMS_COMMEMORATION_PROD_BARRACK', 'BuildingType', 'BUILDING_BARRACKS'),
    ('BBG_DRUMS_COMMEMORATION_PROD_STABLE', 'BuildingType', 'BUILDING_STABLE'),
    ('BBG_DRUMS_COMMEMORATION_PROD_ARMORY', 'BuildingType', 'BUILDING_ARMORY'),
    ('BBG_DRUMS_COMMEMORATION_PROD_MILITARY_ACADEMY', 'BuildingType', 'BUILDING_MILITARY_ACADEMY'),
	('BBG_DRUMS_COMMEMORATION_PROD_BARRACK', 'YieldType', 'YIELD_PRODUCTION'),
	('BBG_DRUMS_COMMEMORATION_PROD_STABLE', 'YieldType', 'YIELD_PRODUCTION'),
	('BBG_DRUMS_COMMEMORATION_PROD_ARMORY', 'YieldType', 'YIELD_PRODUCTION'),
	('BBG_DRUMS_COMMEMORATION_PROD_MILITARY_ACADEMY', 'YieldType', 'YIELD_PRODUCTION'),
	('BBG_DRUMS_COMMEMORATION_PROD_BARRACK', 'Amount', 1),
	('BBG_DRUMS_COMMEMORATION_PROD_STABLE', 'Amount', 1),
	('BBG_DRUMS_COMMEMORATION_PROD_ARMORY', 'Amount', 1),
	('BBG_DRUMS_COMMEMORATION_PROD_MILITARY_ACADEMY', 'Amount', 1),
	('BBG_DRUMS_COMMEMORATION_CULTURE_KILLS', 'YieldType', 'YIELD_CULTURE'),
	-- it's standard speed so /2 online
	('BBG_DRUMS_COMMEMORATION_CULTURE_KILLS', 'PercentDefeatedStrength', 80);

INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_PROD_BARRACK'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_PROD_STABLE'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_PROD_ARMORY'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_PROD_MILITARY_ACADEMY');
/*
-- 03/07/2024 Drums of war: removes 1 culture on encampment buildings
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId) VALUES
	('BBG_DRUMS_COMMEMORATION_CULTURE_BARRACK', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_STABLE', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_ARMORY', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_MILITARY_ACADEMY', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'PLAYER_HAS_GOLDEN_AGE');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_DRUMS_COMMEMORATION_CULTURE_BARRACK', 'BuildingType', 'BUILDING_BARRACKS'),
    ('BBG_DRUMS_COMMEMORATION_CULTURE_STABLE', 'BuildingType', 'BUILDING_STABLE'),
    ('BBG_DRUMS_COMMEMORATION_CULTURE_ARMORY', 'BuildingType', 'BUILDING_ARMORY'),
    ('BBG_DRUMS_COMMEMORATION_CULTURE_MILITARY_ACADEMY', 'BuildingType', 'BUILDING_MILITARY_ACADEMY'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_BARRACK', 'YieldType', 'YIELD_CULTURE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_STABLE', 'YieldType', 'YIELD_CULTURE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_ARMORY', 'YieldType', 'YIELD_CULTURE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_MILITARY_ACADEMY', 'YieldType', 'YIELD_CULTURE'),
	('BBG_DRUMS_COMMEMORATION_CULTURE_BARRACK', 'Amount', 1),
	('BBG_DRUMS_COMMEMORATION_CULTURE_STABLE', 'Amount', 1),
	('BBG_DRUMS_COMMEMORATION_CULTURE_ARMORY', 'Amount', 1),
	('BBG_DRUMS_COMMEMORATION_CULTURE_MILITARY_ACADEMY', 'Amount', 1);
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_CULTURE_BARRACK'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_CULTURE_STABLE'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_CULTURE_ARMORY'),
	('COMMEMORATION_RELIGIOUS', 'BBG_DRUMS_COMMEMORATION_CULTURE_MILITARY_ACADEMY');
*/

-- 05/01/2024 temporary era score point for exodus
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_RELIGIOUS', 'COMMEMORATION_AERONAUTICAL_GREAT_PERSON_QUEST');


-- INSERT OR IGNORE INTO Modifiers (ModifierId , ModifierType , OwnerRequirementSetId)
--     VALUES ('COMMEMORATION_CULTURAL_DISTRICTGOLD' , 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_YIELD_PER_DISTRICT', 'PLAYER_HAS_GOLDEN_AGE');
-- INSERT OR IGNORE INTO ModifierArguments (ModifierId , Name , Value)
--     VALUES ('COMMEMORATION_CULTURAL_DISTRICTGOLD' , 'YieldType' , 'YIELD_GOLD');
-- INSERT OR IGNORE INTO ModifierArguments (ModifierId , Name , Value)
--     VALUES ('COMMEMORATION_CULTURAL_DISTRICTGOLD' , 'Amount' , '1');
-- INSERT OR IGNORE INTO CommemorationModifiers (CommemorationType, ModifierId)

-- 19/03/2024 free inquiry boost nerf (10% -> 5%)
UPDATE ModifierArguments SET Value='5' WHERE ModifierId='COMMEMORATION_SCIENTIFIC_GA_BOOSTS' AND Name='Amount';

-- 25/06/25 New Commemoration order
-- Third Era (70-90 turns) : Hic Sunt, Reform, To Arms & Heartbeat
-- Fourth Era (90-110 turns) : To Arms, Wish You Were Here, Bodyguard of Lies & Sky and Stars
-- Fifth Era (110+ turns) : Wish You Were Here, Bodyguard of Lies, Sky and Stars & Automaton Warfare
UPDATE CommemorationTypes SET MaximumGameEra='ERA_MEDIEVAL' WHERE CommemorationType IN ('COMMEMORATION_INFRASTRUCTURE', 'COMMEMORATION_RELIGIOUS');
UPDATE CommemorationTypes SET MinimumGameEra='ERA_RENAISSANCE' WHERE CommemorationType IN ('COMMEMORATION_INDUSTRIAL', 'COMMEMORATION_MILITARY'); 
UPDATE CommemorationTypes SET MaximumGameEra='ERA_RENAISSANCE' WHERE CommemorationType IN ('COMMEMORATION_EXPLORATION', 'COMMEMORATION_ECONOMIC', 'COMMEMORATION_INDUSTRIAL');
UPDATE CommemorationTypes SET MinimumGameEra='ERA_INDUSTRIAL' WHERE CommemorationType IN ('COMMEMORATION_TOURISM', 'COMMEMORATION_AERONAUTICAL', 'COMMEMORATION_ESPIONAGE'); 
UPDATE CommemorationTypes SET MaximumGameEra='ERA_INDUSTRIAL' WHERE CommemorationType='COMMEMORATION_MILITARY'; 
UPDATE CommemorationTypes SET MinimumGameEra='ERA_MODERN' WHERE CommemorationType='COMMEMORATION_AUTOMATON'; 

-- 25/06/25 Heartbeat of Steam : +10% Production toward Industrial Era and later wonders. Campus district's Science adjacency bonus provides Production as well. +25% production on projects.
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId) VALUES
	('BBG_HEARTBEAT_PROJECT_PRODUCTION', 'MODIFIER_PLAYER_CITIES_ADJUST_ALL_PROJECTS_PRODUCTION', 'PLAYER_HAS_GOLDEN_AGE');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
	('BBG_HEARTBEAT_PROJECT_PRODUCTION', 'Amount', 25);
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_INDUSTRIAL', 'BBG_HEARTBEAT_PROJECT_PRODUCTION');

-- 25/06/25 Hic Sunt Dracones NEW: +2 Movement for Settlers and naval units. +3 starting Population for newly settled cities. Cities first 2 districts gets +100% production.
-- Hic Sunt Dracones works on all new cities, not just diff continent
UPDATE Modifiers SET ModifierType='MODIFIER_PLAYER_CITIES_ADD_POPULATION', NewOnly=1, Permanent=1 WHERE ModifierId='COMMEMORATION_EXPLORATION_GA_NEW_CITY_POPULATION';

DELETE FROM CommemorationModifiers WHERE ModifierId IN ('COMMEMORATION_EXPLORATION_GA_FOREIGNIDENTITY', 'COMMEMORATION_EXPLORATION_GA_EMBARKED_MOVEMENT');
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
	('BBG_HIC_SUNT_SETTLER_MOV', 'MODIFIER_PLAYER_UNITS_ADJUST_MOVEMENT', 'PLAYER_HAS_GOLDEN_AGE', 'BBG_UNIT_IS_SETTLER_REQSET'),
	('BBG_HIC_SUNT_DISTRICT_PRODUCTION', 'MODIFIER_PLAYER_CITIES_ADJUST_DISTRICT_PRODUCTION_MODIFIER', 'PLAYER_HAS_GOLDEN_AGE', 'BBG_CITY_HAS_LESS_THAN_2_DISTRICTS_REQSET');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
	('BBG_HIC_SUNT_SETTLER_MOV', 'Amount', 2),
	('BBG_HIC_SUNT_DISTRICT_PRODUCTION', 'Amount', 100);
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_EXPLORATION', 'BBG_HIC_SUNT_SETTLER_MOV'),
	('COMMEMORATION_EXPLORATION', 'BBG_HIC_SUNT_DISTRICT_PRODUCTION');

INSERT INTO Requirements (RequirementId, RequirementType, Inverse) VALUES
	('BBG_UNIT_IS_SETTLER_REQUIREMENT', 'REQUIREMENT_UNIT_TYPE_MATCHES', 0),
	('BBG_CITY_HAS_LESS_THAN_2_DISTRICTS_REQUIREMENT', 'REQUIREMENT_CITY_HAS_X_SPECIALTY_DISTRICTS', 1);
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
	('BBG_UNIT_IS_SETTLER_REQUIREMENT', 'UnitType', 'UNIT_SETTLER'),
	('BBG_CITY_HAS_LESS_THAN_2_DISTRICTS_REQUIREMENT', 'Amount', 2);
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
	('BBG_UNIT_IS_SETTLER_REQSET', 'REQUIREMENTSET_TEST_ALL'),
	('BBG_CITY_HAS_LESS_THAN_2_DISTRICTS_REQSET', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
	('BBG_UNIT_IS_SETTLER_REQSET', 'BBG_UNIT_IS_SETTLER_REQUIREMENT'),
	('BBG_CITY_HAS_LESS_THAN_2_DISTRICTS_REQSET', 'BBG_CITY_HAS_LESS_THAN_2_DISTRICTS_REQUIREMENT');


-- Wish You Were Here NEW: Cities with Governors receive 50% Tourism from World Wonders. +2 Musician points per city, doubled if city has broadcast center. 
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
	('BBG_GREAT_MUSICIAN_POINTS_BASE_WYWH', 'MODIFIER_PLAYER_CITIES_ADJUST_GREAT_PERSON_POINT_BASE', 'PLAYER_HAS_GOLDEN_AGE', NULL),
	('BBG_GREAT_MUSICIAN_POINTS_BROADCAST_WYWH', 'MODIFIER_PLAYER_CITIES_ADJUST_GREAT_PERSON_POINT_BASE', 'PLAYER_HAS_GOLDEN_AGE', 'BUILDING_IS_BROADCAST_CENTER');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
	('BBG_GREAT_MUSICIAN_POINTS_BASE_WYWH', 'GreatPersonClassType', 'GREAT_PERSON_CLASS_MUSICIAN'),
	('BBG_GREAT_MUSICIAN_POINTS_BASE_WYWH', 'Amount', 2),
	('BBG_GREAT_MUSICIAN_POINTS_BROADCAST_WYWH', 'GreatPersonClassType', 'GREAT_PERSON_CLASS_MUSICIAN'),
	('BBG_GREAT_MUSICIAN_POINTS_BROADCAST_WYWH', 'Amount', 2);
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_TOURISM', 'BBG_GREAT_MUSICIAN_POINTS_BASE_WYWH'),
	('COMMEMORATION_TOURISM', 'BBG_GREAT_MUSICIAN_POINTS_BROADCAST_WYWH');

-- +1 appeal on cities with a national park
DELETE FROM CommemorationModifiers WHERE ModifierId='COMMEMORATION_TOURISM_GA_NATIONAL_PARKS';
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
	('BBG_APPEAL_WYWH', 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_APPEAL', 'CITY_HAS_NATIONAL_PARK_REQUREMENTS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
	('BBG_APPEAL_WYWH', 'Amount', 1);
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
	('COMMEMORATION_TOURISM', 'BBG_APPEAL_WYWH');


-- Sky and Stars NEW: Give 4 random Eurekas from Information and Future Era. +100% XP earned for all Air Units. Aluminum mines accumulate +2 more resources per turn.
-- From 4 randoms Eurekas to Offworld and Smart Materials
DELETE FROM CommemorationModifiers WHERE ModifierId IN ('COMMEMORATION_AERONAUTICAL_GA_SATELLITES', 'COMMEMORATION_AERONAUTICAL_GA_NUCLEAR_FUSION', 'COMMEMORATION_AERONAUTICAL_GA_NANOTECHNOLOGY', 'COMMEMORATION_AERONAUTICAL_GA_PREDICTIVE_SYSTEMS');
UPDATE Modifiers SET OwnerRequirementSetId='PLAYER_HAS_GOLDEN_AGE' WHERE ModifierId IN ('COMMEMORATION_AERONAUTICAL_GA_SMART_MATERIALS', 'COMMEMORATION_AERONAUTICAL_GA_OFFWORLD_MISSION');


-- 28/07/25 free gdr necessits robotics
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
	('BBG_PLAYER_HAS_GOLDEN_AGE_ROBOTICS_REQSET', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
	('BBG_PLAYER_HAS_GOLDEN_AGE_ROBOTICS_REQSET', 'REQUIRES_PLAYER_HAS_GOLDEN_AGE'),
	('BBG_PLAYER_HAS_GOLDEN_AGE_ROBOTICS_REQSET', 'BBG_UTILS_PLAYER_HAS_TECH_ROBOTICS_REQUIREMENT');
UPDATE Modifiers SET OwnerRequirementSetId='BBG_PLAYER_HAS_GOLDEN_AGE_ROBOTICS_REQSET' WHERE ModifierId='COMMEMORATION_AUTOMATON_GA_FREE_GDR';

-- 28/07/25 also grants 25% toward gdr production
INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
    ('BBG_AUTOMATON_GDR_PROD', 'MODIFIER_PLAYER_CITIES_ADJUST_UNIT_TAG_ERA_PRODUCTION');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_AUTOMATON_GDR_PROD', 'UnitPromotionClass', 'PROMOTION_CLASS_GIANT_DEATH_ROBOT'),
    ('BBG_AUTOMATON_GDR_PROD', 'EraType', 'NO_ERA'),
    ('BBG_AUTOMATON_GDR_PROD', 'Amount', 25);
INSERT INTO CommemorationModifiers (CommemorationType, ModifierId) VALUES
    ('COMMEMORATION_AUTOMATON', 'BBG_AUTOMATON_GDR_PROD');


--==============================================================
--******				S  C  O  R  E				  	  ******
--==============================================================
-- no double counting for era points
UPDATE ScoringLineItems SET Multiplier=0 WHERE LineItemType='LINE_ITEM_ERA_SCORE';

--==============================================================
--******				    O T H E R					  ******
--==============================================================
-- Offshore Oil can be improved at Plastics
UPDATE Improvements SET PrereqTech='TECH_PLASTICS' WHERE ImprovementType='IMPROVEMENT_OFFSHORE_OIL_RIG';

--==============================================================
--******				    ALLIANCES					  ******
--==============================================================
--14/04/23 economic alliance from 4g to 6g/1p
--19/12/23 remove production
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
-- 	('ALLIANCE_ADD_PROD_TO_ORIGIN_TRADE_ROUTE', 'MODIFIER_ALLIANCE_TRADE_ROUTE_ADJUST_YIELD', 'ROUTE_BETWEEN_ALLIES_REQUIREMENTS'),
-- 	('ALLIANCE_ADD_PROD_TO_DESTINATION_TRADE_ROUTE', 'MODIFIER_ALLIANCE_TRADE_ROUTE_ADJUST_YIELD', 'ROUTE_BETWEEN_ALLIES_REQUIREMENTS');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
-- 	('ALLIANCE_ADD_PROD_TO_ORIGIN_TRADE_ROUTE', 'AffectDestination', 1),
-- 	('ALLIANCE_ADD_PROD_TO_DESTINATION_TRADE_ROUTE', 'AffectOrigin', 1),
-- 	('ALLIANCE_ADD_PROD_TO_ORIGIN_TRADE_ROUTE', 'Amount', 1),
-- 	('ALLIANCE_ADD_PROD_TO_DESTINATION_TRADE_ROUTE', 'Amount', 1),
-- 	('ALLIANCE_ADD_PROD_TO_ORIGIN_TRADE_ROUTE', 'YieldType', 'YIELD_PRODUCTION'),
-- 	('ALLIANCE_ADD_PROD_TO_DESTINATION_TRADE_ROUTE', 'YieldType', 'YIELD_PRODUCTION');
-- INSERT INTO AllianceEffects (LevelRequirement, AllianceType, ModifierID) VALUES
-- 	('1', 'ALLIANCE_ECONOMIC', 'ALLIANCE_ADD_PROD_TO_ORIGIN_TRADE_ROUTE'),
-- 	('1', 'ALLIANCE_ECONOMIC', 'ALLIANCE_ADD_PROD_TO_DESTINATION_TRADE_ROUTE');

UPDATE ModifierArguments SET Value=6 WHERE ModifierId='ALLIANCE_ADD_GOLD_TO_ORIGIN_TRADE_ROUTE' AND Name='Amount';
UPDATE ModifierArguments SET Value=6 WHERE ModifierId='ALLIANCE_ADD_GOLD_TO_DESTINATION_TRADE_ROUTE' AND Name='Amount';

--14/04/23 religious alliance from 2faith to 4faith
UPDATE ModifierArguments SET Value=4 WHERE ModifierId='ALLIANCE_ADD_FAITH_TO_ORIGIN_TRADE_ROUTE' AND Name='Amount';
UPDATE ModifierArguments SET Value=4 WHERE ModifierId='ALLIANCE_ADD_FAITH_TO_DESTINATION_TRADE_ROUTE' AND Name='Amount';

--05/03/2024 Religious alliance get +1food yield
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
 	('ALLIANCE_ADD_FOOD_TO_ORIGIN_TRADE_ROUTE', 'MODIFIER_ALLIANCE_TRADE_ROUTE_ADJUST_YIELD', 'ROUTE_BETWEEN_ALLIES_REQUIREMENTS'),
 	('ALLIANCE_ADD_FOOD_TO_DESTINATION_TRADE_ROUTE', 'MODIFIER_ALLIANCE_TRADE_ROUTE_ADJUST_YIELD', 'ROUTE_BETWEEN_ALLIES_REQUIREMENTS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
 	('ALLIANCE_ADD_FOOD_TO_ORIGIN_TRADE_ROUTE', 'AffectDestination', 1),
 	('ALLIANCE_ADD_FOOD_TO_DESTINATION_TRADE_ROUTE', 'AffectOrigin', 1),
	('ALLIANCE_ADD_FOOD_TO_ORIGIN_TRADE_ROUTE', 'Amount', 1),
 	('ALLIANCE_ADD_FOOD_TO_DESTINATION_TRADE_ROUTE', 'Amount', 1),
 	('ALLIANCE_ADD_FOOD_TO_ORIGIN_TRADE_ROUTE', 'YieldType', 'YIELD_FOOD'),
	('ALLIANCE_ADD_FOOD_TO_DESTINATION_TRADE_ROUTE', 'YieldType', 'YIELD_FOOD');
 INSERT INTO AllianceEffects (LevelRequirement, AllianceType, ModifierID) VALUES
 	('1', 'ALLIANCE_RELIGIOUS', 'ALLIANCE_ADD_FOOD_TO_ORIGIN_TRADE_ROUTE'),
 	('1', 'ALLIANCE_RELIGIOUS', 'ALLIANCE_ADD_FOOD_TO_DESTINATION_TRADE_ROUTE');

--=======================================================================
--******                       DISTRICTS                          ******
--=======================================================================

UPDATE Districts SET CostProgressionParam1=20 WHERE DistrictType='DISTRICT_GOVERNMENT';
UPDATE Districts SET CostProgressionParam1=35 WHERE DistrictType='DISTRICT_WATER_ENTERTAINMENT_COMPLEX';

UPDATE Districts SET CostProgressionParam1=35 WHERE DistrictType IN ('DISTRICT_IKANDA', 'DISTRICT_SEOWON', 'DISTRICT_WATER_STREET_CARNIVAL');
UPDATE Districts SET Cost=30 WHERE DistrictType IN ('DISTRICT_IKANDA', 'DISTRICT_SEOWON', 'DISTRICT_WATER_STREET_CARNIVAL');

--=======================================================================
--******                          AGES                             ******
--=======================================================================
-- 29/03/25 Dark age threshold increased by 3 era score (don't really get how it works but it works)
UPDATE GlobalParameters SET Value=18 WHERE Name='DARK_AGE_SCORE_BASE_THRESHOLD';
