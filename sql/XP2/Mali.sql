UPDATE Units SET Combat=53 WHERE UnitType='UNIT_MALI_MANDEKALU_CAVALRY';

DELETE FROM TraitModifiers WHERE TraitType = 'TRAIT_CIVILIZATION_MALI_GOLD_DESERT' AND ModifierId = 'TRAIT_LESS_UNIT_PRODUCTION';
DELETE FROM TraitModifiers WHERE TraitType = 'TRAIT_CIVILIZATION_MALI_GOLD_DESERT' AND ModifierId = 'TRAIT_LESS_BUILDING_PRODUCTION';

INSERT INTO TraitModifiers(TraitType, ModifierId) VALUES
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_LESS_CITY_PRODUCTION'),
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_LESS_CHOP_PRODUCTION_GIVER'),
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_NORMAL_WONDER_PRODUCTION'),
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_NORMAL_DISTRICT_PRODUCTION'),
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_NORMAL_PROJECT_PRODUCTION');

INSERT INTO Modifiers(ModifierId, ModifierType) VALUES
    ('BBG_TRAIT_MALI_LESS_CHOP_PRODUCTION_GIVER', 'MODIFIER_PLAYER_CITIES_ATTACH_MODIFIER'),
    ('BBG_TRAIT_MALI_LESS_CHOP_PRODUCTION', 'MODIFIER_CITY_ADJUST_RESOURCE_HARVEST_BONUS'),
    ('BBG_TRAIT_MALI_LESS_CITY_PRODUCTION', 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_YIELD_MODIFIER'),
    ('BBG_TRAIT_MALI_NORMAL_WONDER_PRODUCTION', 'MODIFIER_PLAYER_CITIES_ADJUST_WONDER_PRODUCTION'),
    ('BBG_TRAIT_MALI_NORMAL_DISTRICT_PRODUCTION', 'MODIFIER_PLAYER_CITIES_ADJUST_ALL_DISTRICTS_PRODUCTION'),
    ('BBG_TRAIT_MALI_NORMAL_PROJECT_PRODUCTION', 'MODIFIER_PLAYER_CITIES_ADJUST_ALL_PROJECTS_PRODUCTION');

INSERT INTO ModifierArguments(ModifierId, Name, Value) VALUES
    ('BBG_TRAIT_MALI_LESS_CITY_PRODUCTION', 'YieldType', 'YIELD_PRODUCTION'),
    ('BBG_TRAIT_MALI_LESS_CITY_PRODUCTION', 'Amount', '-30'),
    ('BBG_TRAIT_MALI_NORMAL_WONDER_PRODUCTION', 'Amount', '43'),
    ('BBG_TRAIT_MALI_NORMAL_DISTRICT_PRODUCTION', 'Amount', '43'),
    ('BBG_TRAIT_MALI_NORMAL_PROJECT_PRODUCTION', 'Amount', '43');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_TRAIT_MALI_LESS_CHOP_PRODUCTION_GIVER', 'ModifierId', 'BBG_TRAIT_MALI_LESS_CHOP_PRODUCTION'),
    ('BBG_TRAIT_MALI_LESS_CHOP_PRODUCTION', 'Amount', '-30');

--15/12/22 Mali mines from 4 base gold to 1 getting +1 at currency, banks and economics
UPDATE ModifierArguments SET Value=1 WHERE ModifierId='TRAIT_MALI_MINES_GOLD' AND Name='Amount';

INSERT INTO RequirementSets(RequirementSetId, RequirementSetType) VALUES
    ('BBG_MINE_AND_CURRENCY', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_MINE_AND_BANKING', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_MINE_AND_ECONOMICS', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements(RequirementSetId, RequirementId) VALUES
    ('BBG_MINE_AND_CURRENCY', 'REQUIRES_PLOT_HAS_MINE'),
    ('BBG_MINE_AND_CURRENCY', 'BBG_UTILS_PLAYER_HAS_TECH_CURRENCY_REQUIREMENT'),
    ('BBG_MINE_AND_BANKING', 'REQUIRES_PLOT_HAS_MINE'),
    ('BBG_MINE_AND_BANKING', 'BBG_UTILS_PLAYER_HAS_TECH_BANKING_REQUIREMENT'),
    ('BBG_MINE_AND_ECONOMICS', 'REQUIRES_PLOT_HAS_MINE'),
    ('BBG_MINE_AND_ECONOMICS', 'BBG_UTILS_PLAYER_HAS_TECH_ECONOMICS_REQUIREMENT');

INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('BBG_TRAIT_MALI_MINES_GOLD_CURRENCY', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_MINE_AND_CURRENCY'),
    ('BBG_TRAIT_MALI_MINES_GOLD_BANKING', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_MINE_AND_BANKING'),
    ('BBG_TRAIT_MALI_MINES_GOLD_ECONOMICS', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_MINE_AND_ECONOMICS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_TRAIT_MALI_MINES_GOLD_CURRENCY', 'YieldType', 'YIELD_GOLD'),
    ('BBG_TRAIT_MALI_MINES_GOLD_CURRENCY', 'Amount', '1'),
    ('BBG_TRAIT_MALI_MINES_GOLD_BANKING', 'YieldType', 'YIELD_GOLD'),
    ('BBG_TRAIT_MALI_MINES_GOLD_BANKING', 'Amount', '1'),
    ('BBG_TRAIT_MALI_MINES_GOLD_ECONOMICS', 'YieldType', 'YIELD_GOLD'),
    ('BBG_TRAIT_MALI_MINES_GOLD_ECONOMICS', 'Amount', '1');

INSERT INTO TraitModifiers(TraitType, ModifierId) VALUES
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_MINES_GOLD_CURRENCY'),
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_MINES_GOLD_BANKING'),
    ('TRAIT_CIVILIZATION_MALI_GOLD_DESERT', 'BBG_TRAIT_MALI_MINES_GOLD_ECONOMICS');

INSERT INTO Requirements(RequirementId, RequirementType, Inverse) VALUES
    ('PLAYER_IS_MALI_BBG_REQ', 'REQUIREMENT_PLAYER_TYPE_MATCHES', 0),
    ('PLAYER_IS_NOT_MALI_BBG_REQ', 'REQUIREMENT_PLAYER_TYPE_MATCHES', 1);
INSERT INTO RequirementArguments(RequirementId, Name, Value) VALUES
    ('PLAYER_IS_MALI_BBG_REQ', 'CivilizationType', 'CIVILIZATION_MALI'),
    ('PLAYER_IS_NOT_MALI_BBG_REQ', 'CivilizationType', 'CIVILIZATION_MALI');
INSERT INTO RequirementSets(RequirementSetId, RequirementSetType) VALUES
    ('PLAYER_IS_MALI_BBG_REQSET', 'REQUIREMENTSET_TEST_ALL'),
    ('PLAYER_IS_NOT_MALI_BBG_REQSET', 'REQUIREMENTSET_TEST_ALL'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_MALI_BBG', 'REQUIREMENTSET_TEST_ALL'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_NOT_MALI_BBG', 'REQUIREMENTSET_TEST_ALL'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_MALI_BBG', 'REQUIREMENTSET_TEST_ALL'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_NOT_MALI_BBG', 'REQUIREMENTSET_TEST_ALL');    
INSERT INTO RequirementSetRequirements(RequirementSetId, RequirementId) VALUES
    ('PLAYER_IS_MALI_BBG_REQSET', 'PLAYER_IS_MALI_BBG_REQ'),
    ('PLAYER_IS_NOT_MALI_BBG_REQSET', 'PLAYER_IS_NOT_MALI_BBG_REQ'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_MALI_BBG', 'REQUIRE_THIS_WONDER_IS_ANCIENT_OR_CLASSICAL'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_MALI_BBG', 'PLAYER_IS_MALI_BBG_REQ'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_NOT_MALI_BBG', 'REQUIRE_THIS_WONDER_IS_ANCIENT_OR_CLASSICAL'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_NOT_MALI_BBG', 'PLAYER_IS_NOT_MALI_BBG_REQ'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_MALI_BBG', 'REQUIRE_THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_MALI_BBG', 'PLAYER_IS_MALI_BBG_REQ'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_NOT_MALI_BBG', 'REQUIRE_THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE'),
    ('THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_NOT_MALI_BBG', 'PLAYER_IS_NOT_MALI_BBG_REQ');
UPDATE Modifiers SET SubjectRequirementSetId = 'PLAYER_IS_NOT_MALI_BBG_REQSET' WHERE ModifierId = 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_MEDIEVAL';
UPDATE Modifiers SET SubjectRequirementSetId = 'THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_NOT_MALI_BBG' WHERE ModifierId = 'GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_ANCIENT_CLASSICAL';
UPDATE Modifiers SET SubjectRequirementSetId = 'THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_NOT_MALI_BBG' WHERE ModifierId = 'GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_OTHER';
UPDATE Modifiers SET SubjectRequirementSetId = 'PLAYER_IS_NOT_MALI_BBG_REQSET' WHERE ModifierId = 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_RENAISSANCE';
UPDATE Modifiers SET SubjectRequirementSetId = 'PLAYER_IS_NOT_MALI_BBG_REQSET' WHERE ModifierId = 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_INDUSTRIAL';
UPDATE Modifiers SET SubjectRequirementSetId = 'PLAYER_IS_NOT_MALI_BBG_REQSET' WHERE ModifierId = 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_EARLY_SPACE_RACE';
INSERT INTO Modifiers(ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_MEDIEVAL_MALI_BBG', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 'PLAYER_IS_MALI_BBG_REQSET');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, SubjectRequirementSetId) VALUES
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_ANCIENT_CLASSICAL_MALI_BBG', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 1, 1, 'THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_MALI_BBG'),
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_OTHER_MALI_BBG', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 1, 1, 'THIS_WONDER_IS_ANCIENT_OR_CLASSICAL_INVERSE_MALI_BBG'),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_RENAISSANCE_MALI_BBG', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 1, 1, 'PLAYER_IS_MALI_BBG_REQSET'),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_INDUSTRIAL_MALI_BBG', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 1, 1, 'PLAYER_IS_MALI_BBG_REQSET'),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_EARLY_SPACE_RACE_MALI_BBG', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 1, 1, 'PLAYER_IS_MALI_BBG_REQSET');
INSERT INTO ModifierArguments(ModifierId, Name, Type, Value) VALUES
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_MEDIEVAL_MALI_BBG', 'Amount', 'ScaleByGameSpeed', 151),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_MEDIEVAL_MALI_BBG', 'KeepOverflow', 'ARGTYPE_IDENTITY', 0),
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_ANCIENT_CLASSICAL_MALI_BBG', 'Amount', 'ScaleByGameSpeed', 246),
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_ANCIENT_CLASSICAL_MALI_BBG', 'KeepOverflow', 'ARGTYPE_IDENTITY', 0),
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_OTHER_MALI_BBG', 'Amount', 'ScaleByGameSpeed', 123),
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_OTHER_MALI_BBG', 'KeepOverflow', 'ARGTYPE_IDENTITY', 0),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_RENAISSANCE_MALI_BBG', 'Amount', 'ScaleByGameSpeed', 222),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_RENAISSANCE_MALI_BBG', 'KeepOverflow', 'ARGTYPE_IDENTITY', 0),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_INDUSTRIAL_MALI_BBG', 'Amount', 'ScaleByGameSpeed', 338),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_INDUSTRIAL_MALI_BBG', 'KeepOverflow', 'ARGTYPE_IDENTITY', 0),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_EARLY_SPACE_RACE_MALI_BBG', 'Amount', 'ScaleByGameSpeed', 1056),
    ('GREATPERSON_GRANT_PRODUCTION_IN_CITY_EARLY_SPACE_RACE_MALI_BBG', 'KeepOverflow', 'ARGTYPE_IDENTITY', 0);
INSERT INTO GreatPersonIndividualActionModifiers(GreatPersonIndividualType, ModifierId, AttachmentTargetType) VALUES
    ('GREAT_PERSON_INDIVIDUAL_ISIDORE_OF_MILETUS', 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_MEDIEVAL_MALI_BBG', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_WONDER_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP', 'GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_ANCIENT_CLASSICAL_MALI_BBG', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_WONDER_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_IMHOTEP', 'GREAT_PERSON_INDIVIDUAL_IMHOTEP_PRODUCTION_OTHER_MALI_BBG', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_WONDER_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_FILIPPO_BRUNELLESCHI', 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_RENAISSANCE_MALI_BBG', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_WONDER_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_GUSTAVE_EIFFEL', 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_INDUSTRIAL_MALI_BBG', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_WONDER_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_SERGEI_KOROLEV', 'GREATPERSON_GRANT_PRODUCTION_IN_CITY_EARLY_SPACE_RACE_MALI_BBG', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
--Mali Engineer Bug
--Isidore - prod 215
--Imotep - 175 - 350
--Filippo Brunelleschi  - 315
--Eiffel 480
--Korolev 1500
