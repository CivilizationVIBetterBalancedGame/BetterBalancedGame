
-- 21/06/23 Varangian gets 25% toward holy site building
INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
    ('BBG_VARANGIAN_HOLY_SITE_BONUS_PRODUCTION_BUILDING', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_PRODUCTION');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_VARANGIAN_HOLY_SITE_BONUS_PRODUCTION_BUILDING', 'DistrictType', 'DISTRICT_HOLY_SITE');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_VARANGIAN_HOLY_SITE_BONUS_PRODUCTION_BUILDING', 'Amount', '25');
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_LEADER_HARALD_ALT', 'BBG_VARANGIAN_HOLY_SITE_BONUS_PRODUCTION_BUILDING');

-- Varangian levied unit gets +1 movement point
INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
    ('BBG_VARANGIAN_LEVIED_MOVEMENT', 'MODIFIER_PLAYER_UNIT_ADJUST_MOVEMENT');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_VARANGIAN_LEVIED_MOVEMENT', 'Amount', 1);
INSERT INTO UnitAbilityModifiers (UnitAbilityType, ModifierId) VALUES
    ('ABILITY_LEVIED_HARALD', 'BBG_VARANGIAN_LEVIED_MOVEMENT');
UPDATE Modifiers SET SubjectRequirementSetId='UNIT_IS_LEVIED_REQUIREMENTS_XP2' WHERE ModifierId='HARALD_LEVY_UNITS_GRANT_ABILITY';

-- 24/06/23 10 sci/cult per population when converted to religion
INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
    ('BBG_VARANGIAN_CULTURE_CONVERSION', 'MODIFIER_PLAYER_UNITS_ADJUST_INITIATION_YIELD_POPULATION'),
    ('BBG_VARANGIAN_SCIENCE_CONVERSION', 'MODIFIER_PLAYER_UNITS_ADJUST_INITIATION_YIELD_POPULATION');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_VARANGIAN_CULTURE_CONVERSION', 'YieldType', 'YIELD_CULTURE'),
    ('BBG_VARANGIAN_CULTURE_CONVERSION', 'Amount', 10),
    ('BBG_VARANGIAN_SCIENCE_CONVERSION', 'YieldType', 'YIELD_SCIENCE'),
    ('BBG_VARANGIAN_SCIENCE_CONVERSION', 'Amount', 10);
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_LEADER_HARALD_ALT', 'BBG_VARANGIAN_CULTURE_CONVERSION'),
    ('TRAIT_LEADER_HARALD_ALT', 'BBG_VARANGIAN_SCIENCE_CONVERSION');


-- Varangian +1 for boat per CS suz
-- copied from Huszar bonus
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_LEADER_HARALD_ALT', 'BBG_VARANGIAN_BOAT_CS_PER_SUZ');
INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY');
INSERT INTO Modifiers(ModifierId, ModifierType, SubjectRequirementSetId)
    SELECT 'BBG_MODIFIER_VARANGIAN_SUZ_' || LeaderType, 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH', 'BBG_PLAYER_ATTACKING_IS_SUZERAIN_OF_' || LeaderType || '_REQUIREMENTS'
    FROM Leaders
    WHERE InheritFrom IN
        ('LEADER_MINOR_CIV_CULTURAL', 'LEADER_MINOR_CIV_INDUSTRIAL', 'LEADER_MINOR_CIV_MILITARISTIC',
        'LEADER_MINOR_CIV_RELIGIOUS', 'LEADER_MINOR_CIV_SCIENTIFIC', 'LEADER_MINOR_CIV_TRADE');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ', 'AbilityType', 'BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY');
INSERT INTO ModifierArguments(ModifierId, Name, Value)
    SELECT 'BBG_MODIFIER_VARANGIAN_SUZ_' || LeaderType, 'Amount', 1
    FROM Leaders
    WHERE InheritFrom IN
        ('LEADER_MINOR_CIV_CULTURAL', 'LEADER_MINOR_CIV_INDUSTRIAL', 'LEADER_MINOR_CIV_MILITARISTIC',
        'LEADER_MINOR_CIV_RELIGIOUS', 'LEADER_MINOR_CIV_SCIENTIFIC', 'LEADER_MINOR_CIV_TRADE');
INSERT INTO TypeTags (Type, Tag) VALUES
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY', 'CLASS_NAVAL_MELEE'),
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY', 'CLASS_NAVAL_RANGED'),
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY', 'CLASS_NAVAL_CARRIER'),
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY', 'CLASS_NAVAL_RAIDER');
INSERT INTO Types (Type, Kind) VALUES
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY', 'KIND_ABILITY');
INSERT INTO UnitAbilities (UnitAbilityType, Name, Description, Inactive) VALUES
    ('BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY', 'LOC_BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY_NAME', 'LOC_BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY_DESC', 1);

INSERT INTO UnitAbilityModifiers(UnitAbilityType, ModifierId)
    SELECT 'BBG_VARANGIAN_BOAT_CS_PER_SUZ_ABILITY', 'BBG_MODIFIER_VARANGIAN_SUZ_' || LeaderType
    FROM Leaders
    WHERE InheritFrom IN
        ('LEADER_MINOR_CIV_CULTURAL', 'LEADER_MINOR_CIV_INDUSTRIAL', 'LEADER_MINOR_CIV_MILITARISTIC',
        'LEADER_MINOR_CIV_RELIGIOUS', 'LEADER_MINOR_CIV_SCIENTIFIC', 'LEADER_MINOR_CIV_TRADE');
-- THIS USE THE SAME LOC AS HUNGARY CAUSE THIS IS THE SAME KIND OF MODIFIER
INSERT INTO ModifierStrings(ModifierId, Context, Text) 
    SELECT 'BBG_MODIFIER_VARANGIAN_SUZ_' || LeaderType, 'Preview', '+{1_Amount} {LOC_ABILITY_HUSZAIR_COMBAT_PREVIEW} {'||Name||'}'
    FROM Leaders
    WHERE InheritFrom IN
        ('LEADER_MINOR_CIV_CULTURAL', 'LEADER_MINOR_CIV_INDUSTRIAL', 'LEADER_MINOR_CIV_MILITARISTIC',
        'LEADER_MINOR_CIV_RELIGIOUS', 'LEADER_MINOR_CIV_SCIENTIFIC', 'LEADER_MINOR_CIV_TRADE');

INSERT INTO RequirementSets(RequirementSetId, RequirementSetType)
    SELECT 'BBG_PLAYER_ATTACKING_IS_SUZERAIN_OF_' || LeaderType || '_REQUIREMENTS', 'REQUIREMENTSET_TEST_ALL'
    FROM Leaders
    WHERE InheritFrom IN
        ('LEADER_MINOR_CIV_CULTURAL', 'LEADER_MINOR_CIV_INDUSTRIAL', 'LEADER_MINOR_CIV_MILITARISTIC',
        'LEADER_MINOR_CIV_RELIGIOUS', 'LEADER_MINOR_CIV_SCIENTIFIC', 'LEADER_MINOR_CIV_TRADE');

INSERT INTO RequirementSetRequirements(RequirementSetId, RequirementId)
    SELECT 'BBG_PLAYER_ATTACKING_IS_SUZERAIN_OF_' || LeaderType || '_REQUIREMENTS', 'BBG_PLAYER_IS_SUZERAIN_OF_' || LeaderType
    FROM Leaders
    WHERE InheritFrom IN
        ('LEADER_MINOR_CIV_CULTURAL', 'LEADER_MINOR_CIV_INDUSTRIAL', 'LEADER_MINOR_CIV_MILITARISTIC',
        'LEADER_MINOR_CIV_RELIGIOUS', 'LEADER_MINOR_CIV_SCIENTIFIC', 'LEADER_MINOR_CIV_TRADE');
INSERT INTO RequirementSetRequirements(RequirementSetId, RequirementId)
    SELECT 'BBG_PLAYER_ATTACKING_IS_SUZERAIN_OF_' || LeaderType || '_REQUIREMENTS', 'PLAYER_IS_ATTACKER_REQUIREMENTS'
    FROM Leaders
    WHERE InheritFrom IN
        ('LEADER_MINOR_CIV_CULTURAL', 'LEADER_MINOR_CIV_INDUSTRIAL', 'LEADER_MINOR_CIV_MILITARISTIC',
        'LEADER_MINOR_CIV_RELIGIOUS', 'LEADER_MINOR_CIV_SCIENTIFIC', 'LEADER_MINOR_CIV_TRADE');