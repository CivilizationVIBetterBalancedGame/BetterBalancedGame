--16/04/23 Cleopatra get bonus only on improved tiles
-- INSERT OR IGNORE INTO Requirements (RequirementId, RequirementType) VALUES
--     ('BBG_TILE_HAS_ANY_IMPROVEMENT', 'REQUIREMENT_PLOT_HAS_ANY_IMPROVEMENT');
-- INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
--     ('BBG_TILE_HAS_ANY_IMPROVEMENT_ON_FLOODPLAIN_RESSOURCES_REQSET', 'REQUIREMENTSET_TEST_ALL');
-- INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
--     ('BBG_TILE_HAS_ANY_IMPROVEMENT_ON_FLOODPLAIN_RESSOURCES_REQSET', 'BBG_TILE_HAS_ANY_IMPROVEMENT'),
--     ('BBG_TILE_HAS_ANY_IMPROVEMENT_ON_FLOODPLAIN_RESSOURCES_REQSET', 'REQUIRES_PLOT_HAS_VISIBLE_RESOURCE'),
--     ('BBG_TILE_HAS_ANY_IMPROVEMENT_ON_FLOODPLAIN_RESSOURCES_REQSET', 'REQUIRES_FLOODPLAINS_REQUIREMENT');

-- UPDATE Modifiers SET SubjectRequirementSetId='BBG_TILE_HAS_ANY_IMPROVEMENT_ON_FLOODPLAIN_RESSOURCES_REQSET' WHERE ModifierId='CLEOPATRA_FLOODPLAINS_RESOURCE_YIELD';

-- 17/04/23 culture and food delayed at Code Of Law
-- 19/03/24 culture removed but food from start of the game
-- 02/07/24 culture again but not on city center
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_CITY_CENTER', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_CODE_OF_LAWS_REQSET');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_CITY_CENTER', 'YieldType', 'YIELD_CULTURE'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_CITY_CENTER', 'Amount', '1');
-- INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_CODE_OF_LAWS_REQSET', 'REQUIREMENTSET_TEST_ALL');
-- INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_CODE_OF_LAWS_REQSET', 'BBG_REQUIRES_PLOT_IS_CITY_CENTER'),
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_CODE_OF_LAWS_REQSET', 'REQUIRES_PLOT_HAS_VISIBLE_RESOURCE'),
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_CODE_OF_LAWS_REQSET', 'REQUIRES_FLOODPLAINS_REQUIREMENT'),
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_CODE_OF_LAWS_REQSET', 'BBG_UTILS_PLAYER_HAS_CIVIC_CODE_OF_LAWS_REQUIREMENT');
-- INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_CITY_CENTER');

-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES 
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_CITY_CENTER', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_REQSET');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_CITY_CENTER', 'YieldType', 'YIELD_FOOD'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_CITY_CENTER', 'Amount', '1');
-- INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_REQSET', 'REQUIREMENTSET_TEST_ALL');
-- INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_REQSET', 'BBG_REQUIRES_PLOT_IS_CITY_CENTER'),
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_REQSET', 'REQUIRES_PLOT_HAS_VISIBLE_RESOURCE'),
--     ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_REQSET', 'REQUIRES_FLOODPLAINS_REQUIREMENT');
--     -- ('BBG_TILE_IS_CITY_CENTER_ON_FLOODPLAIN_RESSOURCES_CODE_OF_LAWS_REQSET', 'BBG_UTILS_PLAYER_HAS_CIVIC_CODE_OF_LAWS_REQUIREMENT');
-- INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_CITY_CENTER');

-- -- Requirement Modifier On Improved Resources
-- INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
--     ('BBG_TILE_IS_FLOODPLAIN_BONUS_RESOURCE', 'REQUIREMENTSET_TEST_ALL');
-- INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
--     ('BBG_TILE_IS_FLOODPLAIN_BONUS_RESOURCE', 'BBG_REQUIRES_PLOT_HAS_IMPROVED_BONUS'),
--     ('BBG_TILE_IS_FLOODPLAIN_BONUS_RESOURCE', 'REQUIRES_FLOODPLAINS_REQUIREMENT');
--     -- ('BBG_TILE_IS_FLOODPLAIN_BONUS_RESOURCE', 'BBG_UTILS_PLAYER_HAS_CIVIC_CODE_OF_LAWS_REQUIREMENT');
-- INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
--     ('BBG_TILE_IS_FLOODPLAIN_LUX_RESOURCE', 'REQUIREMENTSET_TEST_ALL');
-- INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
--     ('BBG_TILE_IS_FLOODPLAIN_LUX_RESOURCE', 'BBG_REQUIRES_PLOT_HAS_IMPROVED_LUXURY'),
--     ('BBG_TILE_IS_FLOODPLAIN_LUX_RESOURCE', 'REQUIRES_FLOODPLAINS_REQUIREMENT');
--     -- ('BBG_TILE_IS_FLOODPLAIN_LUX_RESOURCE', 'BBG_UTILS_PLAYER_HAS_CIVIC_CODE_OF_LAWS_REQUIREMENT');
-- INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
--     ('BBG_TILE_IS_FLOODPLAIN_STRAT_RESOURCE', 'REQUIREMENTSET_TEST_ALL');
-- INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
--     ('BBG_TILE_IS_FLOODPLAIN_STRAT_RESOURCE', 'REQUIRES_PLOT_HAS_IMPROVED_STRATEGIC'),
--     ('BBG_TILE_IS_FLOODPLAIN_STRAT_RESOURCE', 'REQUIRES_FLOODPLAINS_REQUIREMENT');
--     -- ('BBG_TILE_IS_FLOODPLAIN_STRAT_RESOURCE', 'BBG_UTILS_PLAYER_HAS_CIVIC_CODE_OF_LAWS_REQUIREMENT'); 

-- -- Culture Modifier
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES 
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_BONUS_RESOURCE', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_FLOODPLAIN_BONUS_RESOURCE');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_BONUS_RESOURCE', 'YieldType', 'YIELD_CULTURE'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_BONUS_RESOURCE', 'Amount', '1');
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES 
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_LUX_RESOURCE', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_FLOODPLAIN_LUX_RESOURCE');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_LUX_RESOURCE', 'YieldType', 'YIELD_CULTURE'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_LUX_RESOURCE', 'Amount', '1');
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES 
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_STRAT_RESOURCE', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_FLOODPLAIN_STRAT_RESOURCE');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_STRAT_RESOURCE', 'YieldType', 'YIELD_CULTURE'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_STRAT_RESOURCE', 'Amount', '1');

-- -- Food Modifier
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES 
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_BONUS_RESOURCE', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_FLOODPLAIN_BONUS_RESOURCE');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_BONUS_RESOURCE', 'YieldType', 'YIELD_FOOD'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_BONUS_RESOURCE', 'Amount', '1');
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES 
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_LUX_RESOURCE', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_FLOODPLAIN_LUX_RESOURCE');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_LUX_RESOURCE', 'YieldType', 'YIELD_FOOD'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_LUX_RESOURCE', 'Amount', '1');
-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES 
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_STRAT_RESOURCE', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'BBG_TILE_IS_FLOODPLAIN_STRAT_RESOURCE');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_STRAT_RESOURCE', 'YieldType', 'YIELD_FOOD'),
--     ('BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_STRAT_RESOURCE', 'Amount', '1');

-- INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_BONUS_RESOURCE'),
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_STRAT_RESOURCE'),
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_CULTURE_ON_LUX_RESOURCE'),
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_BONUS_RESOURCE'),
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_STRAT_RESOURCE'),
--     ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_CLEOPATRA_FLOODPLAINS_RESOURCE_FOOD_ON_LUX_RESOURCE');

-- DELETE FROM Modifiers WHERE ModifierId='CLEOPATRA_FLOODPLAINS_RESOURCE_YIELD';

DELETE FROM TraitModifiers WHERE TraitType='TRAIT_LEADER_CLEOPATRA_ALT';

-- 02/12/24 bonus production doubled when city is settled on river for encampment and campus
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('BBG_PTOLE_FASTER_ENCAMPMENT_RIVER', 'MODIFIER_PLAYER_CITIES_ADJUST_DISTRICT_PRODUCTION', 'PLOT_ADJACENT_TO_RIVER_REQUIREMENTS'),
    ('BBG_PTOLE_FASTER_CAMPUS_RIVER', 'MODIFIER_PLAYER_CITIES_ADJUST_DISTRICT_PRODUCTION', 'PLOT_ADJACENT_TO_RIVER_REQUIREMENTS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_PTOLE_FASTER_ENCAMPMENT_RIVER', 'DistrictType', 'DISTRICT_ENCAMPMENT'),
    ('BBG_PTOLE_FASTER_ENCAMPMENT_RIVER', 'Amount', 15),
    ('BBG_PTOLE_FASTER_CAMPUS_RIVER', 'DistrictType', 'DISTRICT_CAMPUS'),
    ('BBG_PTOLE_FASTER_CAMPUS_RIVER', 'Amount', 15);
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_PTOLE_FASTER_ENCAMPMENT_RIVER'),
    ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_PTOLE_FASTER_CAMPUS_RIVER');

-- 02/12/24 Ptole military units ignores rivers and gets +3 cs on floodplains
INSERT INTO TypeTags (Type, Tag) VALUES
    ('BBG_PTOLE_BONUSES_ON_RIVER_ABILITY', 'CLASS_ALL_COMBAT_UNITS');
INSERT INTO Types (Type, Kind) VALUES
    ('BBG_PTOLE_BONUSES_ON_RIVER_ABILITY', 'KIND_ABILITY');
INSERT INTO UnitAbilities (UnitAbilityType, Name, Description, Inactive) VALUES
    ('BBG_PTOLE_BONUSES_ON_RIVER_ABILITY', 'LOC_BBG_PTOLE_NO_MALUSES_ON_RIVER_ABILITY_NAME', 'LOC_BBG_PTOLE_NO_MALUSES_ON_RIVER_ABILITY_DESC', 1);
INSERT INTO UnitAbilityModifiers (UnitAbilityType, ModifierId) VALUES
    ('BBG_PTOLE_BONUSES_ON_RIVER_ABILITY', 'BBG_PTOLE_NO_MALUSES_ON_RIVER_MODIFIER'),
    ('BBG_PTOLE_BONUSES_ON_RIVER_ABILITY', 'BBG_PTOLE_COMBAT_STRENGTH_ON_FLOODPLAINS_MODIFIER');
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('BBG_PTOLE_NO_MALUSES_ON_RIVER_GIVER', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', NULL),
    ('BBG_PTOLE_NO_MALUSES_ON_RIVER_MODIFIER', 'MODIFIER_PLAYER_UNIT_ADJUST_IGNORE_RIVERS', NULL),
    ('BBG_PTOLE_COMBAT_STRENGTH_ON_FLOODPLAINS_MODIFIER', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH', 'PLOT_FLOODPLAINS_REQUIREMENTS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_PTOLE_NO_MALUSES_ON_RIVER_GIVER', 'AbilityType', 'BBG_PTOLE_BONUSES_ON_RIVER_ABILITY'),
    ('BBG_PTOLE_NO_MALUSES_ON_RIVER_MODIFIER', 'Ignore', 1),
    ('BBG_PTOLE_COMBAT_STRENGTH_ON_FLOODPLAINS_MODIFIER', 'Amount', 3);
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_PTOLE_NO_MALUSES_ON_RIVER_GIVER'),
    ('TRAIT_LEADER_CLEOPATRA_ALT', 'BBG_PTOLE_COMBAT_STRENGTH_ON_FLOODPLAINS_MODIFIER');
INSERT INTO ModifierStrings(ModifierId, Context, Text) VALUES
    ('BBG_PTOLE_COMBAT_STRENGTH_ON_FLOODPLAINS_MODIFIER', 'Preview', 'LOC_BBG_PTOLE_COMBAT_STRENGTH_ON_FLOODPLAINS_MODIFIER');
