-- Reduce Imhotep to 1 charge
UPDATE GreatPersonIndividuals SET ActionCharges=1 WHERE GreatPersonIndividualType='GREAT_PERSON_INDIVIDUAL_IMHOTEP';

-- Dandara gives the most advanced support unit (instead of a warrior monk with experience)
UPDATE Modifiers SET ModifierType='MODIFIER_SINGLE_CITY_GRANT_UNIT_BY_CLASS_IN_NEAREST_CITY' WHERE ModifierId='GREAT_PERSON_INDIVIDUAL_DANDARA_ACTIVE';
DELETE FROM ModifierArguments WHERE ModifierId='GREAT_PERSON_INDIVIDUAL_DANDARA_ACTIVE';
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('GREAT_PERSON_INDIVIDUAL_DANDARA_ACTIVE', 'UnitPromotionClassType', 'PROMOTION_CLASS_SUPPORT');
UPDATE GreatPersonIndividuals SET ActionCharges=1 WHERE GreatPersonIndividualType='GREAT_PERSON_INDIVIDUAL_DANDARA';

-- 19/01/26 added for new happiness thershold (taht currently uses the unhappy tag)
INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_SCIENCE', 'MODIFIER_PLAYER_CITIES_ADJUST_HAPPINESS_YIELD_BAB'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_CULTURE', 'MODIFIER_PLAYER_CITIES_ADJUST_HAPPINESS_YIELD_BAB'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_PRODUCTION', 'MODIFIER_PLAYER_CITIES_ADJUST_HAPPINESS_YIELD_BAB'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_GOLD', 'MODIFIER_PLAYER_CITIES_ADJUST_HAPPINESS_YIELD_BAB'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_FAITH', 'MODIFIER_PLAYER_CITIES_ADJUST_HAPPINESS_YIELD_BAB');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_SCIENCE', 'HappinessType', 'HAPPINESS_UNHAPPY'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_SCIENCE', 'YieldType', 'YIELD_SCIENCE'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_SCIENCE', 'Amount', 8),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_CULTURE', 'HappinessType', 'HAPPINESS_UNHAPPY'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_CULTURE', 'YieldType', 'YIELD_CULTURE'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_CULTURE', 'Amount', 8),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_PRODUCTION', 'HappinessType', 'HAPPINESS_UNHAPPY'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_PRODUCTION', 'YieldType', 'YIELD_PRODUCTION'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_PRODUCTION', 'Amount', 8),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_GOLD', 'HappinessType', 'HAPPINESS_UNHAPPY'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_GOLD', 'YieldType', 'YIELD_GOLD'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_GOLD', 'Amount', 8),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_FAITH', 'HappinessType', 'HAPPINESS_UNHAPPY'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_FAITH', 'YieldType', 'YIELD_FAITH'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_FAITH', 'Amount', 8);
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType) VALUES
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN', 'GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_SCIENCE', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN', 'GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_CULTURE', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN', 'GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_PRODUCTION', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN', 'GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_GOLD', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE'),
    ('GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN', 'GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_EUPHORIC_FAITH', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');

UPDATE ModifierArguments SET Value=4 WHERE Name='Amount' AND ModifierId LIKE 'GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_HAPPY%';
UPDATE ModifierArguments SET Value=8 WHERE Name='Amount' AND ModifierId LIKE 'GREAT_PERSON_INDIVIDUAL_IBN_KHALDUN_EMPIRE_ECSTATIC%';

-- Stamford Raffles
UPDATE GreatPersonIndividuals SET ActionRequiresCityStateTerritory=1, ActionRequiresSuzerainTerritory=0 WHERE GreatPersonIndividualType='GREAT_PERSON_INDIVIDUAL_STAMFORD_RAFFLES';
INSERT INTO GreatPersonIndividualBirthModifiers (GreatPersonIndividualType, ModifierId) VALUES
    ('GREAT_PERSON_INDIVIDUAL_STAMFORD_RAFFLES', 'GREAT_PERSON_ENTER_FOREIGN_LANDS');

-- 21/08/22 Margaret Mead buff (2000 culture/science)
UPDATE ModifierArguments SET Value='2000' WHERE ModifierId='GREAT_PERSON_GRANT_LOTSO_SCIENCE' AND Name='Amount';
UPDATE ModifierArguments SET Value='2000' WHERE ModifierId='GREAT_PERSON_GRANT_LOTSO_CULTURE' AND Name='Amount';

