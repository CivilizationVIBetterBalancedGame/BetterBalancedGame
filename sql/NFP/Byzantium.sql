--==================
-- Byzantium
--==================
-- reduce combat bonus for holy cities
UPDATE ModifierArguments SET Value='2' WHERE ModifierId='BYZANTIUM_COMBAT_HOLY_CITIES' AND Name='Amount';
-- remove dromon combat bonus
-- 25/10/23 remove dromon combat bonus again
-- nerf dromon cs bonus to +5
-- DELETE FROM UnitAbilityModifiers WHERE ModifierId='DROMON_COMBAT_STRENGTH_AGAINST_UNITS';
UPDATE ModifierArguments SET Value=5 WHERE ModifierId='DROMON_COMBAT_STRENGTH_AGAINST_UNITS' AND Name='Amount';

-- Delete Byzantium religious spread (script will do it)
DELETE FROM Modifiers WHERE ModifierId='BYZANTIUM_PRESSURE_KILLS';

-- Reduce Tagma bonus to +2 (from +4)
UPDATE ModifierArguments SET Value=2 WHERE ModifierId='TAGMA_COMBAT_STRENGTH' AND Name='Amount';
UPDATE ModifierArguments SET Value=2 WHERE ModifierId='TAGMA_RELIGIOUS_COMBAT' AND Name='Amount';

-- 17/08/2022: fix bug where bonus is not working on gdr
DELETE FROM TypeTags WHERE Type='ABILITY_BYZANTIUM_COMBAT_UNITSABILITY_BYZANTIUM_COMBAT_UNITS';

INSERT OR IGNORE INTO TypeTags (Type , Tag) VALUES
	('ABILITY_BYZANTIUM_COMBAT_UNITS' ,'CLASS_ALL_COMBAT_UNITS');

-- 14/10 discount reduced to 35% (20 for diplo quarter) and unique district to 55%
UPDATE Districts SET CostProgressionParam1=35 WHERE DistrictType='DISTRICT_HIPPODROME';
UPDATE Districts SET Cost=30 WHERE DistrictType='DISTRICT_HIPPODROME';

-- 19/12/23 hippodromes to 2 amenities (from 3)
-- 26/02/23 reverted to +3
-- UPDATE Districts SET Entertainment=2 WHERE DistrictType='DISTRICT_HIPPODROME';

DELETE FROM TraitModifiers WHERE ModifierId='TRAIT_CREATE_HIPPODROME_HEAVY_CAVALRY';


INSERT INTO Requirements (RequirementId, RequirementType) VALUES
    ('BBG_REQUIRES_CITY_HAS_ZOO', 'REQUIREMENT_CITY_HAS_BUILDING');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
    ('BBG_REQUIRES_CITY_HAS_ZOO', 'BuildingType', 'BUILDING_ZOO');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
    ('BBG_CITY_HAS_HIPPODROME_ARENA_REQSET', 'REQUIRES_CITY_HAS_ARENA'),
    ('BBG_CITY_HAS_HIPPODROME_ZOO_REQSET', 'BBG_REQUIRES_CITY_HAS_ZOO'),
    ('BBG_CITY_HAS_HIPPODROME_STADIUM_REQSET', 'REQUIRES_CITY_HAS_STADIUM');
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
    ('BBG_CITY_HAS_HIPPODROME_ARENA_REQSET', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_CITY_HAS_HIPPODROME_ZOO_REQSET', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_CITY_HAS_HIPPODROME_STADIUM_REQSET', 'REQUIREMENTSET_TEST_ALL');

INSERT INTO Modifiers (ModifierId, ModifierType, Permanent, SubjectRequirementSetId) VALUES
    ('BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_ARENA', 'MODIFIER_PLAYER_CITIES_GRANT_UNIT_BY_CLASS', 1, 'BBG_CITY_HAS_HIPPODROME_ARENA_REQSET'),
    ('BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_ZOO', 'MODIFIER_PLAYER_CITIES_GRANT_UNIT_BY_CLASS', 1, 'BBG_CITY_HAS_HIPPODROME_ZOO_REQSET'),
    ('BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_STADIUM', 'MODIFIER_PLAYER_CITIES_GRANT_UNIT_BY_CLASS', 1, 'BBG_CITY_HAS_HIPPODROME_STADIUM_REQSET');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_ARENA', 'UnitPromotionClassType', 'PROMOTION_CLASS_HEAVY_CAVALRY'),
    ('BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_ZOO', 'UnitPromotionClassType', 'PROMOTION_CLASS_HEAVY_CAVALRY'),
    ('BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_STADIUM', 'UnitPromotionClassType', 'PROMOTION_CLASS_HEAVY_CAVALRY');
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_CIVILIZATION_DISTRICT_HIPPODROME', 'BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_ARENA'),
    ('TRAIT_CIVILIZATION_DISTRICT_HIPPODROME', 'BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_ZOO'),
    ('TRAIT_CIVILIZATION_DISTRICT_HIPPODROME', 'BBG_BYZANTIUM_GET_HEAVY_CAV_HIPPO_STADIUM');