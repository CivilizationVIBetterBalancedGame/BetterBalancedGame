--==================
-- America
--==================

-- Teddy-BM get vietnam ability to plant wood (have to recreate modifier to not be dependent on kublai-vietnam dlc)
INSERT INTO Modifiers(ModifierId, ModifierType) VALUES
    ('TEDDY_PLANT_MEDIEVAL_WOODS_BBG', 'MODIFIER_PLAYER_ADJUST_FEATURE_UNLOCK');
INSERT INTO ModifierArguments(ModifierId, Name, Value) VALUES
    ('TEDDY_PLANT_MEDIEVAL_WOODS_BBG', 'FeatureType', 'FEATURE_FOREST'),
    ('TEDDY_PLANT_MEDIEVAL_WOODS_BBG', 'CivicType', 'CIVIC_MEDIEVAL_FAIRES');
INSERT INTO TraitModifiers(TraitType, ModifierId) VALUES
    ('TRAIT_LEADER_ANTIQUES_AND_PARKS', 'TEDDY_PLANT_MEDIEVAL_WOODS_BBG');

-- Codenaugh's BM modification
-- 19/03/24 BM bonus delayed to code of laws
DELETE FROM TraitModifiers WHERE ModifierId IN ('TRAIT_ANTIQUES_AND_PARKS_CULTURE_FORESTS_OR_WONDERS', 'TRAIT_ANTIQUES_AND_PARKS_SCIENCE_NATIONAL_WONDERS_OR_MOUNTAINS');

INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_LEADER_ANTIQUES_AND_PARKS', 'BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_CODE_OF_LAWS'),
    ('TRAIT_LEADER_ANTIQUES_AND_PARKS', 'BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_CODE_OF_LAWS'),
    ('TRAIT_LEADER_ANTIQUES_AND_PARKS', 'BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_ENLIGHTENMENT'),
    ('TRAIT_LEADER_ANTIQUES_AND_PARKS', 'BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_ASTRONOMY');
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_CODE_OF_LAWS', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_CODE_OF_LAWS'),
    ('BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_CODE_OF_LAWS', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_CODE_OF_LAWS'),
    ('BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_ENLIGHTENMENT', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_ENLIGHTENMENT'),
    ('BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_ASTRONOMY', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 'REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_ASTRONOMY');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_CODE_OF_LAWS', 'YieldType' , 'YIELD_CULTURE'),
    ('BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_CODE_OF_LAWS', 'Amount' , '1'),
    ('BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_CODE_OF_LAWS', 'YieldType' , 'YIELD_SCIENCE'),
    ('BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_CODE_OF_LAWS', 'Amount' , '1'),
    ('BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_ENLIGHTENMENT', 'YieldType' , 'YIELD_CULTURE'),
    ('BBG_TEDDY_CULTURE_FORESTS_OR_WONDERS_ENLIGHTENMENT', 'Amount' , '1'),
    ('BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_ASTRONOMY', 'YieldType' , 'YIELD_SCIENCE'),
    ('BBG_TEDDY_SCIENCE_MOUNTAINS_OR_NATIONAL_WONDERS_ASTRONOMY', 'Amount' , '1');
INSERT INTO RequirementSets VALUES
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'REQUIREMENTSET_TEST_ALL'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'REQUIREMENTSET_TEST_ALL'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_ENLIGHTENMENT', 'REQUIREMENTSET_TEST_ALL'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_ASTRONOMY', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements VALUES
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'PLOT_ADJACENT_FORESTS_OR_WONDERS_REQUIREMENTS_MET'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'REQUIRES_PLOT_BREATHTAKING_APPEAL_ROOSEVELT'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'BBG_UTILS_PLAYER_HAS_CIVIC_CODE_OF_LAWS_REQUIREMENT'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'PLOT_ADJACENT_NATURAL_WONDERS_OR_MOUNTAINS_MET'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'REQUIRES_PLOT_BREATHTAKING_APPEAL_ROOSEVELT'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_CODE_OF_LAWS', 'BBG_UTILS_PLAYER_HAS_CIVIC_CODE_OF_LAWS_REQUIREMENT'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_ENLIGHTENMENT', 'PLOT_ADJACENT_FORESTS_OR_WONDERS_REQUIREMENTS_MET'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_ENLIGHTENMENT', 'REQUIRES_PLOT_BREATHTAKING_APPEAL_ROOSEVELT'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_FORESTS_OR_WONDERS_BREATHTAKING_ENLIGHTENMENT', 'BBG_UTILS_PLAYER_HAS_CIVIC_THE_ENLIGHTENMENT_REQUIREMENT'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_ASTRONOMY', 'PLOT_ADJACENT_NATURAL_WONDERS_OR_MOUNTAINS_MET'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_ASTRONOMY', 'REQUIRES_PLOT_BREATHTAKING_APPEAL_ROOSEVELT'),
    ('REQUIREMENTS_BBG_PLOT_ADJACENT_MOUNTAINS_OR_NATURAL_WONDERS_BREATHTAKING_ASTRONOMY', 'BBG_UTILS_PLAYER_HAS_TECH_ASTRONOMY_REQUIREMENT');

-- Teddy RR combat strength change with era
-- 15-12-23 Changed from Ancient->Industrial to Classical->Modern
INSERT INTO RequirementSets(RequirementSetId, RequirementSetType) VALUES
    ('BBG_TEDDY_IS_IN_CLASSICAL', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_TEDDY_IS_IN_MEDIEVAL', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_TEDDY_IS_IN_RENAISSANCE', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_TEDDY_IS_IN_INDUSTRIAL', 'REQUIREMENTSET_TEST_ALL'),
    ('BBG_TEDDY_IS_IN_MODERN', 'REQUIREMENTSET_TEST_ALL');

INSERT INTO RequirementSetRequirements(RequirementSetId, RequirementId) VALUES
    ('BBG_TEDDY_IS_IN_CLASSICAL', 'BBG_PLAYER_IS_IN_ERA_CLASSICAL_REQUIREMENT'),
    ('BBG_TEDDY_IS_IN_CLASSICAL', 'BBG_PLAYER_IS_NOT_IN_ERA_MEDIEVAL_REQUIREMENT'),

    ('BBG_TEDDY_IS_IN_MEDIEVAL', 'BBG_PLAYER_IS_IN_ERA_MEDIEVAL_REQUIREMENT'),
    ('BBG_TEDDY_IS_IN_MEDIEVAL', 'BBG_PLAYER_IS_NOT_IN_ERA_RENAISSANCE_REQUIREMENT'),

    ('BBG_TEDDY_IS_IN_RENAISSANCE', 'BBG_PLAYER_IS_IN_ERA_RENAISSANCE_REQUIREMENT'),
    ('BBG_TEDDY_IS_IN_RENAISSANCE', 'BBG_PLAYER_IS_NOT_IN_ERA_INDUSTRIAL_REQUIREMENT'),

    ('BBG_TEDDY_IS_IN_INDUSTRIAL', 'BBG_PLAYER_IS_IN_ERA_INDUSTRIAL_REQUIREMENT'),
    ('BBG_TEDDY_IS_IN_INDUSTRIAL', 'BBG_PLAYER_IS_NOT_IN_ERA_MODERN_REQUIREMENT'),

    ('BBG_TEDDY_IS_IN_MODERN', 'BBG_PLAYER_IS_IN_ERA_MODERN_REQUIREMENT');

INSERT INTO Modifiers(ModifierId, ModifierType) VALUES
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_CLASSICAL', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_MEDIEVAL', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_RENAISSANCE', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_INDUSTRIAL', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_MODERN', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_CLASSICAL', 'Amount', 1),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_MEDIEVAL', 'Amount', 2),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_RENAISSANCE', 'Amount', 3),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_INDUSTRIAL', 'Amount', 4),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_MODERN', 'Amount', 5);

INSERT INTO ModifierStrings (ModifierId, Context, Text) VALUES
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_CLASSICAL', 'Preview', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_CLASSICAL'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_MEDIEVAL', 'Preview', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_MEDIEVAL'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_RENAISSANCE', 'Preview', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_RENAISSANCE'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_INDUSTRIAL', 'Preview', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_INDUSTRIAL'),
    ('BBG_TEDDY_COMBAT_BONUS_IN_ERA_MODERN', 'Preview', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_MODERN');

INSERT INTO Modifiers(ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_CLASSICAL', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 'BBG_TEDDY_IS_IN_CLASSICAL'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_MEDIEVAL', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 'BBG_TEDDY_IS_IN_MEDIEVAL'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_RENAISSANCE', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 'BBG_TEDDY_IS_IN_RENAISSANCE'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_INDUSTRIAL', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 'BBG_TEDDY_IS_IN_INDUSTRIAL'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_MODERN', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 'BBG_TEDDY_IS_IN_MODERN');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_CLASSICAL', 'AbilityType', 'BBG_TEDDY_RR_COMBAT_ABILITY_CLASSICAL'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_MEDIEVAL', 'AbilityType', 'BBG_TEDDY_RR_COMBAT_ABILITY_MEDIEVAL'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_RENAISSANCE', 'AbilityType', 'BBG_TEDDY_RR_COMBAT_ABILITY_RENAISSANCE'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_INDUSTRIAL', 'AbilityType', 'BBG_TEDDY_RR_COMBAT_ABILITY_INDUSTRIAL'),
    ('BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_ERA_MODERN', 'AbilityType', 'BBG_TEDDY_RR_COMBAT_ABILITY_MODERN');

-- Create Unit Ability
INSERT INTO Types(Type, Kind) VALUES
    ('BBG_TEDDY_RR_COMBAT_ABILITY_CLASSICAL', 'KIND_ABILITY'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MEDIEVAL', 'KIND_ABILITY'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_RENAISSANCE', 'KIND_ABILITY'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_INDUSTRIAL', 'KIND_ABILITY'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MODERN', 'KIND_ABILITY');

INSERT INTO TypeTags(Type, Tag) VALUES
    ('BBG_TEDDY_RR_COMBAT_ABILITY_CLASSICAL', 'CLASS_ALL_COMBAT_UNITS'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MEDIEVAL', 'CLASS_ALL_COMBAT_UNITS'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_RENAISSANCE', 'CLASS_ALL_COMBAT_UNITS'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_INDUSTRIAL', 'CLASS_ALL_COMBAT_UNITS'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MODERN', 'CLASS_ALL_COMBAT_UNITS');

INSERT INTO UnitAbilities(UnitAbilityType , Name, Description, Inactive) VALUES
    ('BBG_TEDDY_RR_COMBAT_ABILITY_CLASSICAL', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_CLASSICAL', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_CLASSICAL', 1),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MEDIEVAL', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_MEDIEVAL', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_MEDIEVAL', 1),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_RENAISSANCE', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_RENAISSANCE', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_RENAISSANCE', 1),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_INDUSTRIAL', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_INDUSTRIAL', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_INDUSTRIAL', 1),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MODERN', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_MODERN', 'LOC_BBG_TEDDY_COMBAT_BONUS_IN_MODERN', 1);

INSERT INTO UnitAbilityModifiers(UnitAbilityType, ModifierId) VALUES
    ('BBG_TEDDY_RR_COMBAT_ABILITY_CLASSICAL', 'BBG_TEDDY_COMBAT_BONUS_IN_ERA_CLASSICAL'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MEDIEVAL', 'BBG_TEDDY_COMBAT_BONUS_IN_ERA_MEDIEVAL'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_RENAISSANCE', 'BBG_TEDDY_COMBAT_BONUS_IN_ERA_RENAISSANCE'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_INDUSTRIAL', 'BBG_TEDDY_COMBAT_BONUS_IN_ERA_INDUSTRIAL'),
    ('BBG_TEDDY_RR_COMBAT_ABILITY_MODERN', 'BBG_TEDDY_COMBAT_BONUS_IN_ERA_MODERN');

 INSERT INTO TraitModifiers(TraitType, ModifierId)
    SELECT 'TRAIT_LEADER_ROOSEVELT_COROLLARY', 'BBG_GIVE_MODIFIER_TEDDY_COMBAT_BONUS_IN_' || EraType
    FROM Eras
    WHERE EraType in ('ERA_CLASSICAL', 'ERA_MEDIEVAL', 'ERA_RENAISSANCE', 'ERA_INDUSTRIAL', 'ERA_MODERN');

-- Delete existing RR +5 on home continent 
DELETE FROM TypeTags where Type = 'ABILITY_ROOSEVELT_COMBAT_BONUS_HOME_CONTINENT';
DELETE FROM TraitModifiers WHERE TraitType='TRAIT_LEADER_ROOSEVELT_COROLLARY' AND ModifierId='TRAIT_COMBAT_BONUS_HOME_CONTINENT';

-- 08/04/25 RR first envoy in a city state is doubled 

-- INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
--     ('BBG_RR_DOUBLED_FIRST_ENVOY', 'MODIFIER_PLAYER_ADJUST_DUPLICATE_FIRST_INFLUENCE_TOKEN', 'BBG_PLOT_IS_OWNER_CAPITAL_CONTINENT_REQSET');
-- INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
--     ('BBG_RR_DOUBLED_FIRST_ENVOY', 'Amount', 1);
-- INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
--     ('TRAIT_LEADER_ROOSEVELT_COROLLARY', 'BBG_RR_DOUBLED_FIRST_ENVOY');